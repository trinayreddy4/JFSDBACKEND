package com.gradingsystem.admin.util;

import java.io.File;
import java.io.IOException;

import org.apache.hc.core5.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.multipart.MultipartFile;

public class FileUtil {
	public static  ResponseEntity<String> uploadFile(MultipartFile file)
	{
		if (file.isEmpty()) {
            return ResponseEntity.status(HttpStatus.SC_BAD_REQUEST).body("File is empty");
        }

        try {
            byte[] bytes = file.getBytes();
            File uploadedFile = new File(System.getProperty("user.dir") + "/" + file.getOriginalFilename());
            file.transferTo(uploadedFile);

            return ResponseEntity.status(HttpStatus.SC_OK).body("File uploaded successfully: " + file.getOriginalFilename());
        } catch (IOException e) {
            return ResponseEntity.status(HttpStatus.SC_INTERNAL_SERVER_ERROR).body("Failed to upload file");
        }
	}
}
